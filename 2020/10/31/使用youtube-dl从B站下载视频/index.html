<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/blog/03_16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/blog/03_32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/blog/03_16x16.png">
  <link rel="mask-icon" href="/images/blog/03_16x16.png" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"whuls.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="使用youtube-dl从B站下载视频，使用ffmpeg完成flv转mp4，调用CUDA进行硬件加速。附有youtube-dl备份地址、youtube-dl参数说明文档。">
<meta property="og:type" content="article">
<meta property="og:title" content="使用youtube-dl从B站下载视频">
<meta property="og:url" content="https://whuls.github.io/2020/10/31/%E4%BD%BF%E7%94%A8youtube-dl%E4%BB%8EB%E7%AB%99%E4%B8%8B%E8%BD%BD%E8%A7%86%E9%A2%91/index.html">
<meta property="og:site_name" content="林杉的个人博客">
<meta property="og:description" content="使用youtube-dl从B站下载视频，使用ffmpeg完成flv转mp4，调用CUDA进行硬件加速。附有youtube-dl备份地址、youtube-dl参数说明文档。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://whuls.github.io/images/image-20201031160520310.png">
<meta property="og:image" content="https://whuls.github.io/images/image-20201031163202178.png">
<meta property="og:image" content="https://whuls.github.io/images/image-20201031163335820.png">
<meta property="og:image" content="https://whuls.github.io/images/image-20201031164218775.png">
<meta property="og:image" content="https://whuls.github.io/images/image-20201031170040840.png">
<meta property="og:image" content="https://whuls.github.io/images/image-20201031172628248.png">
<meta property="og:image" content="https://whuls.github.io/images/image-20201031172916212.png">
<meta property="og:image" content="https://whuls.github.io/images/image-20201031165005720.png">
<meta property="og:image" content="https://whuls.github.io/images/image-20201031173603924.png">
<meta property="article:published_time" content="2020-10-31T10:34:07.000Z">
<meta property="article:modified_time" content="2020-10-31T10:48:30.180Z">
<meta property="article:author" content="林杉">
<meta property="article:tag" content="ffmpeg">
<meta property="article:tag" content="youtube-dl">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://whuls.github.io/images/image-20201031160520310.png">

<link rel="canonical" href="https://whuls.github.io/2020/10/31/%E4%BD%BF%E7%94%A8youtube-dl%E4%BB%8EB%E7%AB%99%E4%B8%8B%E8%BD%BD%E8%A7%86%E9%A2%91/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>使用youtube-dl从B站下载视频 | 林杉的个人博客</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?5ef394f44970187e7ab7e57f9ffe9a4e";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <a href="https://github.com/whuls" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">林杉的个人博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签<span class="badge">68</span></a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">26</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">77</span></a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://whuls.github.io/2020/10/31/%E4%BD%BF%E7%94%A8youtube-dl%E4%BB%8EB%E7%AB%99%E4%B8%8B%E8%BD%BD%E8%A7%86%E9%A2%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/blog/avatar_136x136.png">
      <meta itemprop="name" content="林杉">
      <meta itemprop="description" content="开发记录 & 思考笔记">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="林杉的个人博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          使用youtube-dl从B站下载视频
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-10-31 18:34:07 / 修改时间：18:48:30" itemprop="dateCreated datePublished" datetime="2020-10-31T18:34:07+08:00">2020-10-31</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/youtube-dl/" itemprop="url" rel="index"><span itemprop="name">youtube-dl</span></a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>15k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>14 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <ol class="post-body-toc"><li class="post-body-toc-item post-body-toc-level-1"><a class="post-body-toc-link" href="#前言"><span class="post-body-toc-text">前言</span></a></li><li class="post-body-toc-item post-body-toc-level-1"><a class="post-body-toc-link" href="#安装youtube-dl（Windows系统）"><span class="post-body-toc-text">安装youtube-dl（Windows系统）</span></a></li><li class="post-body-toc-item post-body-toc-level-1"><a class="post-body-toc-link" href="#安装FFmpeg实现转码"><span class="post-body-toc-text">安装FFmpeg实现转码</span></a><ol class="post-body-toc-child"><li class="post-body-toc-item post-body-toc-level-2"><a class="post-body-toc-link" href="#1-安装FFmpeg"><span class="post-body-toc-text">1. 安装FFmpeg</span></a></li><li class="post-body-toc-item post-body-toc-level-2"><a class="post-body-toc-link" href="#2-在youtube-dl中使用"><span class="post-body-toc-text">2. 在youtube-dl中使用</span></a></li><li class="post-body-toc-item post-body-toc-level-2"><a class="post-body-toc-link" href="#3-直接转码"><span class="post-body-toc-text">3. 直接转码</span></a></li><li class="post-body-toc-item post-body-toc-level-2"><a class="post-body-toc-link" href="#4-调用CUDA"><span class="post-body-toc-text">4. 调用CUDA</span></a></li></ol></li><li class="post-body-toc-item post-body-toc-level-1"><a class="post-body-toc-link" href="#附录"><span class="post-body-toc-text">附录</span></a><ol class="post-body-toc-child"><li class="post-body-toc-item post-body-toc-level-2"><a class="post-body-toc-link" href="#1-youtube-dl参数列表"><span class="post-body-toc-text">1. youtube-dl参数列表</span></a><ol class="post-body-toc-child"><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Options"><span class="post-body-toc-text">Options</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Network-Options"><span class="post-body-toc-text">Network Options</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Geo-Restriction"><span class="post-body-toc-text">Geo Restriction</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Video-Selection"><span class="post-body-toc-text">Video Selection</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Download-Options"><span class="post-body-toc-text">Download Options</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Filesystem-Options"><span class="post-body-toc-text">Filesystem Options</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Thumbnail-images"><span class="post-body-toc-text">Thumbnail images</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Verbosity-Simulation-Options"><span class="post-body-toc-text">Verbosity &#x2F; Simulation Options</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Workarounds"><span class="post-body-toc-text">Workarounds</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Video-Format-Options"><span class="post-body-toc-text">Video Format Options</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Subtitle-Options"><span class="post-body-toc-text">Subtitle Options</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Authentication-Options"><span class="post-body-toc-text">Authentication Options</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Adobe-Pass-Options"><span class="post-body-toc-text">Adobe Pass Options</span></a></li><li class="post-body-toc-item post-body-toc-level-3"><a class="post-body-toc-link" href="#Post-processing-Options"><span class="post-body-toc-text">Post-processing Options</span></a></li></ol></li><li class="post-body-toc-item post-body-toc-level-2"><a class="post-body-toc-link" href="#2-FFmpeg-Documentation"><span class="post-body-toc-text">2. FFmpeg Documentation</span></a></li></ol></li></ol>
      
      
        <blockquote>
<p>youtube-dl - download videos from youtube.com or other video platforms</p>
<p>GitHub: <a href="https://github.com/ytdl-org/youtube-dl/" target="_blank" rel="noopener">https://github.com/ytdl-org/youtube-dl/</a></p>
<p>Gitee Fork: <a href="https://gitee.com/whuls/youtube-dl" target="_blank" rel="noopener">https://gitee.com/whuls/youtube-dl</a></p>
<p>Home Page: <a href="https://yt-dl.org/" target="_blank" rel="noopener">https://yt-dl.org/</a> </p>
</blockquote>
<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>这个开源工具触犯到了某些人的利益，所以现在它的主页是这个样子的：</p>
<p><img src="/images/image-20201031160520310.png" alt="image-20201031160520310"></p>
<p>以后会不会有更严重的制裁或者封禁不得而知，不过按照目前的形势，RIAA（美国唱片业协会）利用DMCA（数字千年版权法）对微软收购的GitHub施压，触犯了社区禁忌，着实有点不得人心。</p>
<p>目前来看，这是开源平台这一中间灰色地带受到资本干涉的第一个例子，为表抗议，许多开源社区的用户已经将这个仓库的Fork到其他账户下或者其他平台上，表达对资本的抗议以及对开源软件的保护。</p>
<h1 id="安装youtube-dl（Windows系统）"><a href="#安装youtube-dl（Windows系统）" class="headerlink" title="安装youtube-dl（Windows系统）"></a>安装youtube-dl（Windows系统）</h1><p>言归正传，安装youtube-dl可以直接通过官网（ <a href="https://yt-dl.org/download.html" target="_blank" rel="noopener">https://yt-dl.org/download.html</a> ），不过出于安全考虑，我在gitee上面备份了一个Windows的发行版，可以直接在<a href="https://gitee.com/whuls/youtube-dl/releases/2020.9.29-windows.exe" target="_blank" rel="noopener">whuls/youtube-dl</a>下载exe文件，下载后的exe文件如下所示。</p>
<p><img src="/images/image-20201031163202178.png" alt="image-20201031163202178"></p>
<p>建议为youtube-dl创建单独的文件夹，并将可执行程序（exe）的目录添加到<strong>环境变量</strong>，便于直接在命令行使用。</p>
<p><img src="/images/image-20201031163335820.png" alt="image-20201031163335820"></p>
<p>此时只需要输入<code>youtube-dl https://www.bilibili.com/video/BV1vp4y1k7cb</code>之类的命令，就可以直接将B站视频下载到打开命令行的目录下。</p>
<p><img src="/images/image-20201031164218775.png" alt="image-20201031164218775"></p>
<blockquote>
<p>youtube-dl的参数说明见文末</p>
</blockquote>
<h1 id="安装FFmpeg实现转码"><a href="#安装FFmpeg实现转码" class="headerlink" title="安装FFmpeg实现转码"></a>安装FFmpeg实现转码</h1><h2 id="1-安装FFmpeg"><a href="#1-安装FFmpeg" class="headerlink" title="1. 安装FFmpeg"></a>1. 安装FFmpeg</h2><p>下载后的flv文件无法直接通过Windows自带的视频播放器播放，要么下载FLV播放器，要么将下载后的视频转成mp4等可播放形式。</p>
<p>FFmpeg可以为视频转码提供帮助，在其<a href="https://ffmpeg.org/" target="_blank" rel="noopener">官网</a>可以直接下载到已经构建好的Windows系统下的可执行程序（<a href="https://ffmpeg.org/download.html" target="_blank" rel="noopener">下载页面</a>）。</p>
<p><img src="/images/image-20201031170040840.png" alt="image-20201031170040840"></p>
<p><a href="https://www.gyan.dev/ffmpeg/builds/" target="_blank" rel="noopener">gyan.dev</a>提供了一系列的build版本，根据实际需要选择full、essentials、full-shared版本，如果只是用作B站视频下载，essentials版本即可。</p>
<p><img src="/images/image-20201031172628248.png" alt="image-20201031172628248"></p>
<p>下载完成后将其解压，把<code>bin</code>文件夹添加到环境变量中；打开一个命令行，输入<code>ffmpeg</code>，验证是否成功。</p>
<p><img src="/images/image-20201031172916212.png" alt="image-20201031172916212"></p>
<h2 id="2-在youtube-dl中使用"><a href="#2-在youtube-dl中使用" class="headerlink" title="2. 在youtube-dl中使用"></a>2. 在youtube-dl中使用</h2><p>youtube-dl提供了一个参数<code>--recode-video FORMAT</code>，可以在下载后自动转码，前提是需要将FFmpeg的可执行程序（exe）添加到环境变量。</p>
<p><img src="/images/image-20201031165005720.png" alt="image-20201031165005720"></p>
<blockquote>
<p>优点：一键式处理，便携式操作</p>
<p>缺点：不显示处理过程的输出，且只调用了CPU，FFmpeg丰富的参数无法设置</p>
</blockquote>
<h2 id="3-直接转码"><a href="#3-直接转码" class="headerlink" title="3. 直接转码"></a>3. 直接转码</h2><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg <span class="literal">-i</span> <span class="string">"aaa.flv"</span> <span class="string">"aaa.mp4"</span></span><br></pre></td></tr></table></figure>
<p>以上命令即可实现视频转码，通过CPU执行转码进程。</p>
<h2 id="4-调用CUDA"><a href="#4-调用CUDA" class="headerlink" title="4. 调用CUDA"></a>4. 调用CUDA</h2><p>如果电脑上安装了CUDA，可以直接通过以下命令调用GPU实现转码加速</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg <span class="literal">-hwaccel</span> cuda <span class="literal">-i</span> <span class="string">"aaa.flv"</span> <span class="string">"aaa.mp4"</span></span><br></pre></td></tr></table></figure>
<p>查看支持的硬件加速软件列表：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg <span class="literal">-hwaccels</span></span><br></pre></td></tr></table></figure>
<p><img src="/images/image-20201031173603924.png" alt="image-20201031173603924"></p>
<h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h2 id="1-youtube-dl参数列表"><a href="#1-youtube-dl参数列表" class="headerlink" title="1. youtube-dl参数列表"></a>1. youtube-dl参数列表</h2><p>语法：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">youtube<span class="literal">-dl</span> [<span class="type">OPTIONS</span>] URL [<span class="type">URL...</span>]</span><br></pre></td></tr></table></figure>
<h3 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-h, --help</code></td>
<td>Print this help text and exit</td>
</tr>
<tr>
<td><code>--version</code></td>
<td>Print program version and exit</td>
</tr>
<tr>
<td><code>-U, --update</code></td>
<td>Update this program to latest version. Make sure that you have sufficient permissions (run with sudo if needed)</td>
</tr>
<tr>
<td><code>-i, --ignore-errors</code></td>
<td>Continue on download errors, for example to skip unavailable videos in a playlist</td>
</tr>
<tr>
<td><code>--abort-on-error</code></td>
<td>Abort downloading of further videos (in the playlist or the command line) if an error occurs</td>
</tr>
<tr>
<td><code>--dump-user-agent</code></td>
<td>Display the current browser identification</td>
</tr>
<tr>
<td><code>--list-extractors</code></td>
<td>List all supported extractors</td>
</tr>
<tr>
<td><code>--extractor-descriptions</code></td>
<td>Output descriptions of all supported extractors</td>
</tr>
<tr>
<td><code>--force-generic-extractor</code></td>
<td>Force extraction to use the generic extractor</td>
</tr>
<tr>
<td><code>--default-search PREFIX</code></td>
<td>Use this prefix for unqualified URLs. For example “gvsearch2:” downloads two videos from google videos for youtube-dl “large apple”. Use the value “auto” to let youtube-dl guess (“auto_warning” to emit a warning when guessing). “error” just throws an error. The default value “fixup_error” repairs broken URLs, but emits an error if this is not possible instead of searching.</td>
</tr>
<tr>
<td><code>--ignore-config</code></td>
<td>Do not read configuration files. When given in the global configuration file/etc/youtube-dl.conf: Do not read the user configuration in <code>~/.config/youtube- dl/config</code> (<code>%APPDATA%/youtube-dl/config.txt</code> on Windows)</td>
</tr>
<tr>
<td><code>--config-location PATH</code></td>
<td>Location of the configuration file; either the path to the config or its containing directory.</td>
</tr>
<tr>
<td><code>--flat-playlist</code></td>
<td>Do not extract the videos of a playlist, only list them.</td>
</tr>
<tr>
<td><code>--mark-watched</code></td>
<td>Mark videos watched (YouTube only)</td>
</tr>
<tr>
<td><code>--no-mark-watched</code></td>
<td>Do not mark videos watched (YouTube only)</td>
</tr>
<tr>
<td><code>--no-color</code></td>
<td>Do not emit color codes in output</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Network-Options"><a href="#Network-Options" class="headerlink" title="Network Options"></a>Network Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Network Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--proxy URL</code></td>
<td>Use the specified HTTP/HTTPS/SOCKS proxy. To enable SOCKS proxy, specify a proper scheme. For example socks5://127.0.0.1:1080/. Pass in an empty string (—proxy “”) for direct connection</td>
</tr>
<tr>
<td><code>--socket-timeout SECONDS</code></td>
<td>Time to wait before giving up, in seconds</td>
</tr>
<tr>
<td><code>--source-address IP</code></td>
<td>Client-side IP address to bind to</td>
</tr>
<tr>
<td><code>-4, --force-ipv4</code></td>
<td>Make all connections via IPv4</td>
</tr>
<tr>
<td><code>-6, --force-ipv6</code></td>
<td>Make all connections via IPv6</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Geo-Restriction"><a href="#Geo-Restriction" class="headerlink" title="Geo Restriction"></a>Geo Restriction</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Geo Restriction</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--geo-verification-proxy URL</code></td>
<td>Use this proxy to verify the IP address for some geo-restricted sites. The default proxy specified by —proxy (or none, if the option is not present) is used for the actual downloading.</td>
</tr>
<tr>
<td><code>--geo-bypass</code></td>
<td>Bypass geographic restriction via faking X-Forwarded-For HTTP header</td>
</tr>
<tr>
<td><code>--no-geo-bypass</code></td>
<td>Do not bypass geographic restriction via faking X-Forwarded-For HTTP header</td>
</tr>
<tr>
<td><code>--geo-bypass-country CODE</code></td>
<td>Force bypass geographic restriction with explicitly provided two-letter ISO 3166-2 country code</td>
</tr>
<tr>
<td><code>--geo-bypass-ip-block IP_BLOCK</code></td>
<td>Force bypass geographic restriction with explicitly provided IP block in CIDR notation</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Video-Selection"><a href="#Video-Selection" class="headerlink" title="Video Selection"></a>Video Selection</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Video Selection</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--playlist-start NUMBER</code></td>
<td>Playlist video to start at (default is 1)</td>
</tr>
<tr>
<td><code>--playlist-end NUMBER</code></td>
<td>Playlist video to end at (default is last)</td>
</tr>
<tr>
<td><code>--playlist-items ITEM_SPEC</code></td>
<td>Playlist video items to download. Specify  indices of the videos in the playlist  separated by commas like: “—playlist-items  1,2,5,8” if you want to download videos  indexed 1, 2, 5, 8 in the playlist. You can  specify range: “—playlist-items  1-3,7,10-13”, it will download the videos  at index 1, 2, 3, 7, 10, 11, 12 and 13.</td>
</tr>
<tr>
<td><code>--match-title REGEX</code></td>
<td>Download only matching titles (regex or  caseless sub-string)</td>
</tr>
<tr>
<td><code>--reject-title REGEX</code></td>
<td>Skip download for matching titles (regex or  caseless sub-string)</td>
</tr>
<tr>
<td><code>--max-downloads NUMBER</code></td>
<td>Abort after downloading NUMBER files</td>
</tr>
<tr>
<td><code>--min-filesize SIZE</code></td>
<td>Do not download any videos smaller than  SIZE (e.g. 50k or 44.6m)</td>
</tr>
<tr>
<td><code>--max-filesize SIZE</code></td>
<td>Do not download any videos larger than SIZE (e.g. 50k or 44.6m)</td>
</tr>
<tr>
<td><code>--date DATE</code></td>
<td>Download only videos uploaded in this date</td>
</tr>
<tr>
<td><code>--datebefore DATE</code></td>
<td>Download only videos uploaded on or before  this date (i.e. inclusive)</td>
</tr>
<tr>
<td><code>--dateafter DATE</code></td>
<td>Download only videos uploaded on or after  this date (i.e. inclusive)</td>
</tr>
<tr>
<td><code>--min-views COUNT</code></td>
<td>Do not download any videos with less than  COUNT views</td>
</tr>
<tr>
<td><code>--max-views COUNT</code></td>
<td>Do not download any videos with more than  COUNT views</td>
</tr>
<tr>
<td><code>--match-filter FILTER</code></td>
<td>Generic video filter. Specify any key (see  the “OUTPUT TEMPLATE” for a list of  available keys) to match if the key is  present, !key to check if the key is not  present, key &gt; NUMBER (like “comment_count  &gt; 12”, also works with &gt;=, &lt;, &lt;=, !=, =) to  compare against a number, key = ‘LITERAL’ (like “uploader = ‘Mike Smith’”, also works  with !=) to match against a string literal  and &amp; to require multiple matches. Values  which are not known are excluded unless you  put a question mark (?) after the operator.  For example, to only match videos that have  been liked more than 100 times and disliked  less than 50 times (or the dislike  functionality is not available at the given  service), but who also have a description,  use —match-filter “like_count &gt; 100 &amp;  dislike_count &lt;? 50 &amp; description” .</td>
</tr>
<tr>
<td><code>--no-playlist</code></td>
<td>Download only the video, if the URL refers  to a video and a playlist.</td>
</tr>
<tr>
<td><code>--yes-playlist</code></td>
<td>Download the playlist, if the URL refers to  a video and a playlist.</td>
</tr>
<tr>
<td><code>--age-limit YEARS</code></td>
<td>Download only videos suitable for the given  age</td>
</tr>
<tr>
<td><code>--download-archive FILE</code></td>
<td>Download only videos not listed in the  archive file. Record the IDs of all  downloaded videos in it.</td>
</tr>
<tr>
<td><code>--include-ads</code></td>
<td>Download advertisements as well (experimental)</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Download-Options"><a href="#Download-Options" class="headerlink" title="Download Options"></a>Download Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Download Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-r, --limit-rate RATE</code></td>
<td>Maximum download rate in bytes per second(e.g. 50K or 4.2M)</td>
</tr>
<tr>
<td><code>-R, --retries RETRIES</code></td>
<td>Number of retries (default is 10), or”infinite”.</td>
</tr>
<tr>
<td><code>--fragment-retries RETRIES</code></td>
<td>Number of retries for a fragment (default is 10), or “infinite” (DASH, hlsnative and ISM)</td>
</tr>
<tr>
<td><code>--skip-unavailable-fragments</code></td>
<td>Skip unavailable fragments (DASH, hlsnative and ISM)</td>
</tr>
<tr>
<td><code>--abort-on-unavailable-fragment</code></td>
<td>Abort downloading when some fragment is not available</td>
</tr>
<tr>
<td><code>--keep-fragments</code></td>
<td>Keep downloaded fragments on disk after downloading is finished; fragments are erased by default</td>
</tr>
<tr>
<td><code>--buffer-size SIZE</code></td>
<td>Size of download buffer (e.g. 1024 or 16K)(default is 1024)</td>
</tr>
<tr>
<td><code>--no-resize-buffer</code></td>
<td>Do not automatically adjust the buffer size. By default, the buffer size is automatically resized from an initial value of SIZE.</td>
</tr>
<tr>
<td><code>--http-chunk-size SIZE</code></td>
<td>Size of a chunk for chunk-based HTTP downloading (e.g. 10485760 or 10M) (default is disabled). May be useful for bypassing bandwidth throttling imposed by a webserver(experimental)</td>
</tr>
<tr>
<td><code>--playlist-reverse</code></td>
<td>Download playlist videos in reverse order</td>
</tr>
<tr>
<td><code>--playlist-random</code></td>
<td>Download playlist videos in random order</td>
</tr>
<tr>
<td><code>--xattr-set-filesize</code></td>
<td>Set file xattribute ytdl.filesize with expected file size</td>
</tr>
<tr>
<td><code>--hls-prefer-native</code></td>
<td>Use the native HLS downloader instead of ffmpeg</td>
</tr>
<tr>
<td><code>--hls-prefer-ffmpeg</code></td>
<td>Use ffmpeg instead of the native HLS downloader</td>
</tr>
<tr>
<td><code>--hls-use-mpegts</code></td>
<td>Use the mpegts container for HLS videos, allowing to play the video while downloading (some players may not be able to play it)</td>
</tr>
<tr>
<td><code>--external-downloader COMMAND</code></td>
<td>Use the specified external downloader. Currently supports aria2c,avconv,axel,curl,ffmpeg,httpie,wget</td>
</tr>
<tr>
<td><code>--external-downloader-args ARGS</code></td>
<td>Give these arguments to the external downloader</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Filesystem-Options"><a href="#Filesystem-Options" class="headerlink" title="Filesystem Options"></a>Filesystem Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Filesystem Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-a, --batch-file FILE</code></td>
<td>File containing URLs to download (‘-‘ for stdin), one URL per line. Lines starting with ‘#’, ‘;’ or ‘]’ are considered as comments and ignored.</td>
</tr>
<tr>
<td><code>--id</code></td>
<td>Use only video ID in file name</td>
</tr>
<tr>
<td><code>-o, --output TEMPLATE</code></td>
<td>Output filename template, see the “OUTPUT TEMPLATE” for all the info</td>
</tr>
<tr>
<td><code>--autonumber-start NUMBER</code></td>
<td>Specify the start value for %(autonumber)s(default is 1)</td>
</tr>
<tr>
<td><code>--restrict-filenames</code></td>
<td>Restrict filenames to only ASCII characters, and avoid “&amp;” and spaces in filenames</td>
</tr>
<tr>
<td><code>-w, --no-overwrites</code></td>
<td>Do not overwrite files</td>
</tr>
<tr>
<td><code>-c, --continue</code></td>
<td>Force resume of partially downloaded files. By default, youtube-dl will resume downloads if possible.</td>
</tr>
<tr>
<td><code>--no-continue</code></td>
<td>Do not resume partially downloaded files(restart from beginning)</td>
</tr>
<tr>
<td><code>--no-part</code></td>
<td>Do not use .part files - write directly into output file</td>
</tr>
<tr>
<td><code>--no-mtime</code></td>
<td>Do not use the Last-modified header to set the file modification time</td>
</tr>
<tr>
<td><code>--write-description</code></td>
<td>Write video description to a .description file</td>
</tr>
<tr>
<td><code>--write-info-json</code></td>
<td>Write video metadata to a .info.json file</td>
</tr>
<tr>
<td><code>--write-annotations</code></td>
<td>Write video annotations to a.annotations.xml file</td>
</tr>
<tr>
<td><code>--load-info-json FILE</code></td>
<td>JSON file containing the video information(created with the <code>--write-info-json</code> option)</td>
</tr>
<tr>
<td><code>--cookies FILE</code></td>
<td>File to read cookies from and dump cookie jar in</td>
</tr>
<tr>
<td><code>--cache-dir DIR</code></td>
<td>Location in the filesystem where youtube-dl can store some downloaded information permanently. By default <code>$XDG_CACHE_HOME/youtube-dl</code> or <code>~/.cache/youtube-dl</code>. At the moment, only YouTube player files (for videos with obfuscated signatures) are cached, but that may change.</td>
</tr>
<tr>
<td><code>--no-cache-dir</code></td>
<td>Disable filesystem caching</td>
</tr>
<tr>
<td><code>--rm-cache-dir</code></td>
<td>Delete all filesystem cache files</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Thumbnail-images"><a href="#Thumbnail-images" class="headerlink" title="Thumbnail images"></a>Thumbnail images</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Thumbnail images</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--write-thumbnail</code></td>
<td>Write thumbnail image to disk</td>
</tr>
<tr>
<td><code>--write-all-thumbnails</code></td>
<td>Write all thumbnail image formats to disk</td>
</tr>
<tr>
<td><code>--list-thumbnails</code></td>
<td>Simulate and list all available thumbnail formats</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Verbosity-Simulation-Options"><a href="#Verbosity-Simulation-Options" class="headerlink" title="Verbosity / Simulation Options"></a>Verbosity / Simulation Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Verbosity / Simulation Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-q, --quiet</code></td>
<td>Activate quiet mode</td>
</tr>
<tr>
<td><code>--no-warnings</code></td>
<td>Ignore warnings</td>
</tr>
<tr>
<td><code>-s, --simulate</code></td>
<td>Do not download the video and do not write anything to disk</td>
</tr>
<tr>
<td><code>--skip-download</code></td>
<td>Do not download the video</td>
</tr>
<tr>
<td><code>-g, --get-url</code></td>
<td>Simulate, quiet but print URL</td>
</tr>
<tr>
<td><code>-e, --get-title</code></td>
<td>Simulate, quiet but print title</td>
</tr>
<tr>
<td><code>--get-id</code></td>
<td>Simulate, quiet but print id</td>
</tr>
<tr>
<td><code>--get-thumbnail</code></td>
<td>Simulate, quiet but print thumbnail URL</td>
</tr>
<tr>
<td><code>--get-description</code></td>
<td>Simulate, quiet but print video description</td>
</tr>
<tr>
<td><code>--get-duration</code></td>
<td>Simulate, quiet but print video length</td>
</tr>
<tr>
<td><code>--get-filename</code></td>
<td>Simulate, quiet but print output filename</td>
</tr>
<tr>
<td><code>--get-format</code></td>
<td>Simulate, quiet but print output format</td>
</tr>
<tr>
<td><code>-j, --dump-json</code></td>
<td>Simulate, quiet but print JSON information. See the <code>OUTPUT TEMPLATE</code> for a description of available keys.</td>
</tr>
<tr>
<td><code>-J, --dump-single-json</code></td>
<td>Simulate, quiet but print JSON information for each command-line argument. If the URL refers to a playlist, dump the whole playlist information in a single line.</td>
</tr>
<tr>
<td><code>--print-json</code></td>
<td>Be quiet and print the video information as JSON (video is still being downloaded).</td>
</tr>
<tr>
<td><code>--newline</code></td>
<td>Output progress bar as new lines</td>
</tr>
<tr>
<td><code>--no-progress</code></td>
<td>Do not print progress bar</td>
</tr>
<tr>
<td><code>--console-title</code></td>
<td>Display progress in console titlebar</td>
</tr>
<tr>
<td><code>-v, --verbose</code></td>
<td>Print various debugging information</td>
</tr>
<tr>
<td><code>--dump-pages</code></td>
<td>Print downloaded pages encoded using base64 to debug problems (very verbose)</td>
</tr>
<tr>
<td><code>--write-pages</code></td>
<td>Write downloaded intermediary pages to files in the current directory to debug problems</td>
</tr>
<tr>
<td><code>--print-traffic</code></td>
<td>Display sent and read HTTP traffic</td>
</tr>
<tr>
<td><code>-C, --call-home</code></td>
<td>Contact the youtube-dl server for debugging</td>
</tr>
<tr>
<td><code>--no-call-home</code></td>
<td>Do NOT contact the youtube-dl server for debugging</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Workarounds"><a href="#Workarounds" class="headerlink" title="Workarounds"></a>Workarounds</h3><div class="table-container">
<table>
<thead>
<tr>
<th>FWorkarounds</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--encoding ENCODING</code></td>
<td>Force the specified encoding (experimental)</td>
</tr>
<tr>
<td><code>--no-check-certificate</code></td>
<td>Suppress HTTPS certificate validation</td>
</tr>
<tr>
<td><code>--prefer-insecure</code></td>
<td>Use an unencrypted connection to retrieve information about the video. (Currently supported only for YouTube)</td>
</tr>
<tr>
<td><code>--user-agent UA</code></td>
<td>Specify a custom user agent</td>
</tr>
<tr>
<td><code>--referer URL</code></td>
<td>Specify a custom referer, use if the video access is restricted to one domain</td>
</tr>
<tr>
<td><code>--add-header FIELD:VALUE</code></td>
<td>Specify a custom HTTP header and its value, separated by a colon ‘:’. You can use this option multiple times</td>
</tr>
<tr>
<td><code>--bidi-workaround</code></td>
<td>Work around terminals that lack bidirectional text support. Requires bidiv or fribidi executable in PATH</td>
</tr>
<tr>
<td><code>--sleep-interval SECONDS</code></td>
<td>Number of seconds to sleep before each download when used alone or a lower bound of a range for randomized sleep before each download (minimum possible number of seconds to sleep) when used along with —max-sleep-interval.</td>
</tr>
<tr>
<td><code>--max-sleep-interval SECONDS</code></td>
<td>Upper bound of a range for randomized sleep before each download (maximum possible number of seconds to sleep). Must only be used along with —min-sleep-interval.</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Video-Format-Options"><a href="#Video-Format-Options" class="headerlink" title="Video Format Options"></a>Video Format Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Video Format Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-f, --format FORMAT</code></td>
<td>Video format code, see the “FORMAT SELECTION” for all the info</td>
</tr>
<tr>
<td><code>--all-formats</code></td>
<td>Download all available video formats</td>
</tr>
<tr>
<td><code>--prefer-free-formats</code></td>
<td>Prefer free video formats unless a specific one is requested</td>
</tr>
<tr>
<td><code>-F, --list-formats</code></td>
<td>List all available formats of requested videos</td>
</tr>
<tr>
<td><code>--youtube-skip-dash-manifest</code></td>
<td>Do not download the DASH manifests and related data on YouTube videos</td>
</tr>
<tr>
<td><code>--merge-output-format FORMAT</code></td>
<td>If a merge is required (e.g. bestvideo+bestaudio), output to given container format. One of mkv, mp4, ogg, webm, flv. Ignored if no merge is required</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Subtitle-Options"><a href="#Subtitle-Options" class="headerlink" title="Subtitle Options"></a>Subtitle Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Subtitle Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--write-sub</code></td>
<td>Write subtitle file</td>
</tr>
<tr>
<td><code>--write-auto-sub</code></td>
<td>Write automatically generated subtitle file(YouTube only)</td>
</tr>
<tr>
<td><code>--all-subs</code></td>
<td>Download all the available subtitles of the video</td>
</tr>
<tr>
<td><code>--list-subs</code></td>
<td>List all available subtitles for the video</td>
</tr>
<tr>
<td><code>--sub-format FORMAT</code></td>
<td>Subtitle format, accepts formats preference, for example: “srt” or”ass/srt/best”</td>
</tr>
<tr>
<td><code>--sub-lang LANGS</code></td>
<td>Languages of the subtitles to download(optional) separated by commas, use —list- subs for available language tags</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Authentication-Options"><a href="#Authentication-Options" class="headerlink" title="Authentication Options"></a>Authentication Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Authentication Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-u, --username USERNAME</code></td>
<td>Login with this account ID</td>
</tr>
<tr>
<td><code>-p, --password PASSWORD</code></td>
<td>Account password. If this option is left out, youtube-dl will ask interactively.</td>
</tr>
<tr>
<td><code>-2, --twofactor TWOFACTOR</code></td>
<td>Two-factor authentication code</td>
</tr>
<tr>
<td><code>-n, --netrc</code></td>
<td>Use .netrc authentication data</td>
</tr>
<tr>
<td><code>--video-password PASSWORD</code></td>
<td>Video password (vimeo, smotri, youku)</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Adobe-Pass-Options"><a href="#Adobe-Pass-Options" class="headerlink" title="Adobe Pass Options"></a>Adobe Pass Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Adobe Pass Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--ap-mso MSO</code></td>
<td>Adobe Pass multiple-system operator (TV provider) identifier, use —ap-list-mso for a list of available MSOs</td>
</tr>
<tr>
<td><code>--ap-username USERNAME</code></td>
<td>Multiple-system operator account login</td>
</tr>
<tr>
<td><code>--ap-password PASSWORD</code></td>
<td>Multiple-system operator account password. If this option is left out, youtube-dl will ask interactively.</td>
</tr>
<tr>
<td><code>--ap-list-mso</code></td>
<td>List all supported multiple-system operators</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Post-processing-Options"><a href="#Post-processing-Options" class="headerlink" title="Post-processing Options"></a>Post-processing Options</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Post-processing Options</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-x, --extract-audio</code></td>
<td>Convert video files to audio-only files(requires ffmpeg or avconv and ffprobe or avprobe)</td>
</tr>
<tr>
<td><code>--audio-format FORMAT</code></td>
<td>Specify audio format: “best”, “aac”,”flac”, “mp3”, “m4a”, “opus”, “vorbis”, or”wav”; “best” by default; No effect without-x</td>
</tr>
<tr>
<td><code>--audio-quality QUALITY</code></td>
<td>Specify ffmpeg/avconv audio quality, insert a value between 0 (better) and 9 (worse) for VBR or a specific bitrate like 128K(default 5)</td>
</tr>
<tr>
<td><code>--recode-video FORMAT</code></td>
<td>Encode the video to another format if necessary (currently supported: mp4</td>
</tr>
<tr>
<td><code>--postprocessor-args ARGS</code></td>
<td>Give these arguments to the postprocessor</td>
</tr>
<tr>
<td><code>-k, --keep-video</code></td>
<td>Keep the video file on disk after the post- processing; the video is erased by default</td>
</tr>
<tr>
<td><code>--no-post-overwrites</code></td>
<td>Do not overwrite post-processed files; the post-processed files are overwritten by default</td>
</tr>
<tr>
<td><code>--embed-subs</code></td>
<td>Embed subtitles in the video (only for mp4, webm and mkv videos)</td>
</tr>
<tr>
<td><code>--embed-thumbnail</code></td>
<td>Embed thumbnail in the audio as cover art</td>
</tr>
<tr>
<td><code>--add-metadata</code></td>
<td>Write metadata to the video file</td>
</tr>
<tr>
<td><code>--metadata-from-title FORMAT</code></td>
<td>Parse additional metadata like song title / artist from the video title. The format syntax is the same as <code>--output</code>. Regular expression with named capture groups may also be used. The parsed parameters replace existing values. Example: <code>--metadata-from- title &quot;%(artist)s - %(title)s&quot;</code> matches a title like “Coldplay - Paradise”. Example(regex): <code>--metadata-from-title &quot;(?P&lt;artist&gt;.+?) - (?P&lt;title&gt;.+)&quot;</code></td>
</tr>
<tr>
<td><code>--xattrs</code></td>
<td>Write metadata to the video file’s xattrs(using dublin core and xdg standards)</td>
</tr>
<tr>
<td><code>--fixup POLICY</code></td>
<td>Automatically correct known faults of the file. One of never (do nothing), warn (only emit a warning), detect_or_warn (the default; fix file if we can, warn otherwise)</td>
</tr>
<tr>
<td><code>--prefer-avconv</code></td>
<td>Prefer avconv over ffmpeg for running the postprocessors</td>
</tr>
<tr>
<td><code>--prefer-ffmpeg</code></td>
<td>Prefer ffmpeg over avconv for running the postprocessors (default)</td>
</tr>
<tr>
<td><code>--ffmpeg-location PATH</code></td>
<td>Location of the <code>ffmpeg/avconv</code> binary; either the path to the binary or its containing directory.</td>
</tr>
<tr>
<td><code>--exec CMD</code></td>
<td>Execute a command on the file after downloading and post-processing, similar to find’s -exec syntax. Example: <code>--exec &#39;adb push {} /sdcard/Music/ &amp;&amp; rm {}&#39;</code></td>
</tr>
<tr>
<td><code>--convert-subs FORMAT</code></td>
<td>Convert the subtitles to other format(currently supported: srt</td>
</tr>
</tbody>
</table>
</div>
<h2 id="2-FFmpeg-Documentation"><a href="#2-FFmpeg-Documentation" class="headerlink" title="2. FFmpeg Documentation"></a>2. FFmpeg Documentation</h2><blockquote>
<p><a href="https://ffmpeg.org/ffmpeg.html" target="_blank" rel="noopener">https://ffmpeg.org/ffmpeg.html</a></p>
</blockquote>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/ffmpeg/" rel="tag"><i class="fa fa-tag"></i> ffmpeg</a>
              <a href="/tags/youtube-dl/" rel="tag"><i class="fa fa-tag"></i> youtube-dl</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/10/30/find%E5%87%BD%E6%95%B0%E7%94%A8%E4%BA%8Ec-%E4%B8%ADvector%E7%9A%84%E6%9F%A5%E6%89%BE/" rel="prev" title="【转】find函数用于c++中vector的查找">
      <i class="fa fa-chevron-left"></i> 【转】find函数用于c++中vector的查找
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/11/05/%E8%A7%A3%E5%86%B3Excel-2016%E6%89%93%E5%BC%80%E5%90%8E%E7%A9%BA%E7%99%BD%E7%9A%84%E9%97%AE%E9%A2%98/" rel="next" title="解决Excel 2016打开后空白的问题">
      解决Excel 2016打开后空白的问题 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#前言"><span class="nav-text">前言</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#安装youtube-dl（Windows系统）"><span class="nav-text">安装youtube-dl（Windows系统）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#安装FFmpeg实现转码"><span class="nav-text">安装FFmpeg实现转码</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-安装FFmpeg"><span class="nav-text">1. 安装FFmpeg</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-在youtube-dl中使用"><span class="nav-text">2. 在youtube-dl中使用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-直接转码"><span class="nav-text">3. 直接转码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-调用CUDA"><span class="nav-text">4. 调用CUDA</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#附录"><span class="nav-text">附录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-youtube-dl参数列表"><span class="nav-text">1. youtube-dl参数列表</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Options"><span class="nav-text">Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Network-Options"><span class="nav-text">Network Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Geo-Restriction"><span class="nav-text">Geo Restriction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Video-Selection"><span class="nav-text">Video Selection</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Download-Options"><span class="nav-text">Download Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Filesystem-Options"><span class="nav-text">Filesystem Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Thumbnail-images"><span class="nav-text">Thumbnail images</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Verbosity-Simulation-Options"><span class="nav-text">Verbosity &#x2F; Simulation Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Workarounds"><span class="nav-text">Workarounds</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Video-Format-Options"><span class="nav-text">Video Format Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Subtitle-Options"><span class="nav-text">Subtitle Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Authentication-Options"><span class="nav-text">Authentication Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Adobe-Pass-Options"><span class="nav-text">Adobe Pass Options</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Post-processing-Options"><span class="nav-text">Post-processing Options</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-FFmpeg-Documentation"><span class="nav-text">2. FFmpeg Documentation</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="林杉"
      src="/images/blog/avatar_136x136.png">
  <p class="site-author-name" itemprop="name">林杉</p>
  <div class="site-description" itemprop="description">开发记录 & 思考笔记</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">77</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">26</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">68</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">林杉</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">375k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">5:41</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '77edc458d1e975c91584',
      clientSecret: 'd066ea784ad9a8840650ce87154372d890562ecc',
      repo        : 'whuls.github.io',
      owner       : 'WHULS',
      admin       : ['WHULS'],
      id          : 'f3116838140e67c061adfc183028285c',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>

</body>
</html>
